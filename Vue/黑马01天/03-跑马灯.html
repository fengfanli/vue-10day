<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>

    <div id="app">
        <input type="button" value="浪起来" v-bind:title="mytitle"  @click="lang" />
        <input type="button" value="低调" title="stop" @click="stop" />

        <!-- <h3>{{ msg }}</h3> -->
        <h3 v-text="msg"></h3>
        
    </div>
    

    <script type="text/javascript" src="../vue.js"></script>
    <script type="text/javascript">

        // 注意 ： 在 VM实例中，如果想要获取 data 上的数据，或者想要调用 methods 中的方法，必须通过
        // this.数据属性名 或者 this.方法名来访问，这里的 this ，就表示我们new 出来的 VM 实例对象
        let mv = new Vue({
            el:'#app',
            data:{
                msg : "李彦成，低调发育，浪起来吧！",
                mytitle: "李彦成",
                intervalId : null
            },
            methods:{
                lang:function(){

                    // 如果没有定义，则不再向下执行

                    if(this.intervalId != null)return;

                    // 如果不使用箭头函数需要写let this = this
                    // 定义定时器
                    this.intervalId =  setInterval(()=>{
                    console.log(this.msg);
                    let start = this.msg.substring(0,1);
                    let end1 = this.msg.substring(1);
                    this.msg = end1 + start;
                    },400);

                },
                stop(){
                    // 停止计时器
                    clearInterval(this.intervalId);
                    this.intervalId = null;
                },
            },
            
        });
    </script>
</body>
</html>